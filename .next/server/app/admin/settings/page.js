(()=>{var e={};e.id=122,e.ids=[122],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},8156:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d});var t=r(65239),a=r(48088),n=r(88170),i=r.n(n),o=r(30893),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(s,l);let d={children:["",{children:["admin",{children:["settings",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,81881)),"/Users/ivanivanov/Documents/Projects/Plumbe-2/app/admin/settings/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,97786)),"/Users/ivanivanov/Documents/Projects/Plumbe-2/app/admin/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,58014)),"/Users/ivanivanov/Documents/Projects/Plumbe-2/app/layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,52608)),"/Users/ivanivanov/Documents/Projects/Plumbe-2/app/error.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["/Users/ivanivanov/Documents/Projects/Plumbe-2/app/admin/settings/page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},m=new t.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/admin/settings/page",pathname:"/admin/settings",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11997:e=>{"use strict";e.exports=require("punycode")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19643:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>o});var t=r(60687),a=r(43210),n=r(16396);let i={businessName:"Fix My Leak",businessEmail:"info@fixmyleak.com",businessPhone:"+44 7700 900123",businessAddress:"London, UK",emergencyRate:"150",standardRate:"75",dayOffEnabled:!1,dayOffMessage:"Limited service hours today. Emergency services available 24/7.",dayOffStartDate:"",dayOffEndDate:"",emailNotifications:!0,smsNotifications:!1,autoConfirmBookings:!1,workingHoursStart:"08:00",workingHoursEnd:"18:00",workingDays:["monday","tuesday","wednesday","thursday","friday"]};function o(){let[e,s]=(0,a.useState)(i),[r,o]=(0,a.useState)(!0),[l,d]=(0,a.useState)(!1),[c,u]=(0,a.useState)(""),m=async(e,s)=>{try{let r="object"==typeof s?JSON.stringify(s):String(s),{error:t}=await n.N.from("admin_settings").upsert({key:e,value:r});if(t)throw console.error("Error saving setting:",t),t}catch(e){throw console.error("Error:",e),e}},x=async()=>{d(!0),u("");try{let s=Object.entries(e).map(([e,s])=>m(e,s));await Promise.all(s),u("Settings saved successfully!"),setTimeout(()=>u(""),3e3)}catch(e){u("Error saving settings. Please try again."),setTimeout(()=>u(""),3e3)}finally{d(!1)}},g=(e,r)=>{s(s=>({...s,[e]:r}))},b=e=>{s(s=>({...s,workingDays:s.workingDays.includes(e)?s.workingDays.filter(s=>s!==e):[...s.workingDays,e]}))};return r?(0,t.jsxs)("div",{className:"flex justify-center items-center py-12",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),(0,t.jsx)("span",{className:"ml-3 text-gray-600",children:"Loading settings..."})]}):(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Settings"}),(0,t.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage your business settings and preferences."})]}),(0,t.jsx)("button",{onClick:x,disabled:l,className:"flex items-center px-6 py-3 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:l?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent mr-2"}),"Saving..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Save Settings"]})})]}),c&&(0,t.jsx)("div",{className:`p-4 rounded-lg ${c.includes("Error")?"bg-red-50 text-red-700":"bg-green-50 text-green-700"}`,children:c}),(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Business Information"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Name"}),(0,t.jsx)("input",{type:"text",value:e.businessName,onChange:e=>g("businessName",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Email"}),(0,t.jsx)("input",{type:"email",value:e.businessEmail,onChange:e=>g("businessEmail",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Phone"}),(0,t.jsx)("input",{type:"tel",value:e.businessPhone,onChange:e=>g("businessPhone",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Address"}),(0,t.jsx)("input",{type:"text",value:e.businessAddress,onChange:e=>g("businessAddress",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Pricing"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Standard Hourly Rate (\xa3)"}),(0,t.jsx)("input",{type:"number",value:e.standardRate,onChange:e=>g("standardRate",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Emergency Rate (\xa3)"}),(0,t.jsx)("input",{type:"number",value:e.emergencyRate,onChange:e=>g("emergencyRate",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Working Hours"}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Time"}),(0,t.jsx)("input",{type:"time",value:e.workingHoursStart,onChange:e=>g("workingHoursStart",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Time"}),(0,t.jsx)("input",{type:"time",value:e.workingHoursEnd,onChange:e=>g("workingHoursEnd",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Working Days"}),(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-3",children:["monday","tuesday","wednesday","thursday","friday","saturday","sunday"].map(s=>(0,t.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:e.workingDays.includes(s),onChange:()=>b(s),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,t.jsx)("span",{className:"text-sm text-gray-700 capitalize",children:s})]},s))})]})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Day Off Settings"}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("input",{type:"checkbox",id:"dayOffEnabled",checked:e.dayOffEnabled,onChange:e=>g("dayOffEnabled",e.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,t.jsx)("label",{htmlFor:"dayOffEnabled",className:"text-sm font-medium text-gray-700",children:"Enable Day Off Banner"})]}),e.dayOffEnabled&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Day Off Message"}),(0,t.jsx)("textarea",{value:e.dayOffMessage,onChange:e=>g("dayOffMessage",e.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date"}),(0,t.jsx)("input",{type:"date",value:e.dayOffStartDate,onChange:e=>g("dayOffStartDate",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date"}),(0,t.jsx)("input",{type:"date",value:e.dayOffEndDate,onChange:e=>g("dayOffEndDate",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Notifications"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("input",{type:"checkbox",id:"emailNotifications",checked:e.emailNotifications,onChange:e=>g("emailNotifications",e.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,t.jsx)("label",{htmlFor:"emailNotifications",className:"text-sm font-medium text-gray-700",children:"Email Notifications"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("input",{type:"checkbox",id:"smsNotifications",checked:e.smsNotifications,onChange:e=>g("smsNotifications",e.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,t.jsx)("label",{htmlFor:"smsNotifications",className:"text-sm font-medium text-gray-700",children:"SMS Notifications"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("input",{type:"checkbox",id:"autoConfirmBookings",checked:e.autoConfirmBookings,onChange:e=>g("autoConfirmBookings",e.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,t.jsx)("label",{htmlFor:"autoConfirmBookings",className:"text-sm font-medium text-gray-700",children:"Auto-confirm Bookings"})]})]})]})]})}},24203:(e,s,r)=>{Promise.resolve().then(r.bind(r,19643))},27910:e=>{"use strict";e.exports=require("stream")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},74075:e=>{"use strict";e.exports=require("zlib")},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},81881:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>t});let t=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/ivanivanov/Documents/Projects/Plumbe-2/app/admin/settings/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/ivanivanov/Documents/Projects/Plumbe-2/app/admin/settings/page.tsx","default")},87251:(e,s,r)=>{Promise.resolve().then(r.bind(r,81881))},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")}};var s=require("../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),t=s.X(0,[447,374,317,271],()=>r(8156));module.exports=t})();